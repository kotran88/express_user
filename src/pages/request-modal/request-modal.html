
<ion-header>
        <ion-navbar>
          <ion-title class="header">
                배달 상세 내용
          </ion-title>
        </ion-navbar>
      </ion-header>

<ion-content class="main-view" padding>
    
      
      <div class="content_main">
        
            <div class="info">
                <div  class="cellphone">
                        
                        <ion-input type="number"  class="input_cell" value={{cellphone}} [(ngModel)]="cellphone" >{{cellphone}}</ion-input>
                </div>
                <div class="right">
                        <button   style="float:right" class="btn" ion-button (click)="favorite()">가져오기</button>
                </div>
                        <div class="start">
                            <div class="label_header">
                                    <span class="font_weight">픽업</span>  {{start}}
                            </div>
                            <div *ngIf="startDetail!=''" class="start_input">
                                [{{startDetail}}]
                        </div>
                           
                        </div>
                        <hr style="width: 100rem;">
                        <div class="start" style="margin-top:0; margin-bottom:0.5rem;">
                           
                            <div class="label_header">
                                    <span class="font_weight">배송</span>   {{end}}
                            </div>
                                  <div *ngIf="endDetail!=''" class="start_input">
                                          [{{endDetail}}]
                                  </div>
                        </div>
                        
               
            
    </div>
                <hr>
                <div class="time">
                    <div  class="label">
                        <label>희망 픽업/배송 시간을 선택해주세요</label>
                      </div> 
                  <div class="flag_payment_info_show" *ngIf="time">
                        <ion-item style="width:50%;float:left">
                                <ion-label>픽업시간</ion-label>
                                
                        </ion-item>
                        <ion-item style="width:50%;float:right">
                                <p (click)="timeChanged()">08:50</p>
                        </ion-item>
                  </div>

                
                          <div class="flag_payment_info_show" *ngIf="time">
                                <ion-item>
                                        <ion-label>배송시간</ion-label>
                                        <ion-select (ionChange)="timeChanged()" [(ngModel)]="desiredTime">
                                          <ion-option value="ASAP">가능한 빨리</ion-option>
                                          <ion-option value="1to2">1~2시간이내</ion-option>
                                          <ion-option value="3to6">3~6시간이내</ion-option>
                                          <ion-option value="today">오늘 이내</ion-option>
                                        </ion-select>
                                      </ion-item>
                          </div>

          </div> 
                <hr>
                <div class="freight">
                        
                            <div  class="label">
                                    <label>배송품 정보</label>
                                </div> 
                            <div class="flag_payment_info_show" *ngIf="freight">
                                    <div class="image_container">
                                            <div style="width:30%; float:left" [ngClass]="viewStyle_normal ? 'img_normal' : 'img_normal-clicked'">
                                                <img src="{{img_backward}}" (click)="selectedValue('normal')"/>
                                            </div>
                                            <div style="width:30%; float:right"[ngClass]="viewStyle_heavy ? 'img_heavy' : 'img_heavy-clicked'">
                                                <img src="{{img_backward}}" (click)="selectedValue('heavy')"/>
                                            </div>
                                    </div>
        
                                    
                                    <div class="content_text">
                                            <textarea name="review" placeholder="기타 요구사항/ 하실 말씀을 적어주세요!" [(ngModel)]="request_text" id="" cols="45" rows="5" style="width:100%" class="review"></textarea>
                                        </div>  
                            </div>
                            <div class="flag_payment_info_noshow" *ngIf="!freight">
                            </div>
                    </div> 

                    <hr>
                    <div class="payment_mean">
                            <div  class="label">
                                    <label>결제 수단</label>
                                    
                                </div> 
                                <div (click)=toggle(4)  class="point" >
                                        앱결제
                                        <ion-icon *ngIf="!app_payment" name="arrow-dropdown"></ion-icon>
                                        <ion-icon *ngIf="app_payment" name="arrow-dropup"></ion-icon>
                                        <div class="flag_payment_info_show" *ngIf="app_payment">
                                                앱결제 보여주다
                                        </div>
                                        <div class="flag_payment_info_noshow" *ngIf="!app_payment">
                                            </div>
                                </div>
                                <div (click)=toggle(5)  class="point" >
                                        현금결제
                                        <ion-icon *ngIf="!flag_payment_mean" name="arrow-dropdown"></ion-icon>
                                        <ion-icon *ngIf="flag_payment_mean" name="arrow-dropup"></ion-icon>
                                        <div class="flag_payment_info_show" *ngIf="flag_payment_mean">
                                                보여주다
                                                </div>
                                        <div class="flag_payment_info_noshow" *ngIf="!flag_payment_mean">
                                            </div>
                                </div>
                                
                           

                    </div> 
                    <hr>
                    <div class="discount">
                            <div  class="label">
                                    <label>할인 혜택</label>
                                    
                                </div> 
                                <div  class="point">
                                    포인트 사용 
                                   
                                  
                                    <div class="flag_payment_info_show" *ngIf="discount">
                                            <hr>
                                            <div  class="discount_point">
                                                <div class="description" >
                                                        ({{point}} p 보유)<br>
                                                        *적립포인트는 1000p 이상시 사용 가능
                                                </div>
                                                <div style="display: inline-flex;"class="m">
                                                        <div style="float:left"  class="f">
                                                                <ion-input placeholder="" class="input_point" [(ngModel)]="pointtouse"></ion-input>
                                                        </div>
                                                        <div style="float:right;width:60%" class="e">
                                                                <ion-checkbox (ionChange)=pointChecked() style="margin-top:1.5rem" [(ngModel)]="pointAll" disabled="false">전액사용</ion-checkbox>전액사용
                                                        </div>
                                                </div>
                                                
                                                
                                            </div>
                                            <!-- <div class="coupon">
                                                    쿠폰 코드를 입력해주세요<br>
                                                    <ion-input placeholder="" class="input_point" [ngModel]="coupon"></ion-input>
                                                </div> -->
                                    </div>
                                    <div class="flag_payment_info_noshow" *ngIf="!discount">
                                        </div>
                                </div>
                                <div  class="point">
                                        쿠폰 사용 
                                       
    
                                        <div class="flag_payment_info_show" *ngIf="coupon">
                                                <hr>
                                                <div class="discount_point">
                                                        <div class="description">
                                                                쿠폰 코드를 입력해주세요
                                                        </div>
                                                        
                                                        <ion-input  class="input_point" placeholder="포인트입력해주세요" [(ngModel)]=couponvalue placeholder="쿠폰 코드를 입력해주세요"></ion-input>
                                                        <button ion-button class="btn_right" style="height:3.8rem;" (click)="useCoupon(couponvalue)">쿠폰 사용</button>
                                                </div>
                                                <!-- <div class="coupon">
                                                       </div> -->
                                        </div>
                                        <div class="flag_payment_info_noshow" *ngIf="!coupon">
                                            </div>
                                    </div>
                           
                            
                    </div>
                    <hr>
                    <div class="payment">
                            <div style="font-size:1.8rem;" style="text-align: center;" class="label">
                                    <label>결제 금액</label>
                                </div> 
                                <div class="final_price">
                                    {{final_price-pointtouse}} 원
                                </div>
                            <div class="flag_payment_info_show" >
                                    <hr>
                                    거리 : {{distance}} km <br>
                                    3키로 초과부분부터 100m당 50원씩 가산되어 총 금액이 결정됩니다.<br>
                                    총 금액 : {{price}} <br>
                                    할인내역 :  point : {{pointtouse}} <br>
                                    적용 쿠폰 : {{coupon_flag}}<br>
                                    <hr>
                                    포인트 : {{mileage}} 적립<br>
                                    *포인트는 배송이 완료처리 된 후 적립이됩니다.

                                    결제시 약관동의가 필요합니다.(필수)<br>
                                    <ion-checkbox [(ngModel)]="checked" disabled="false"></ion-checkbox>
                                    개인정보 제 3자 제공 동의  <a href="http://naver.com" >약관보기</a>
                            </div>
                    </div>
                    <hr>
                  <!-- <div class="freight_info">
                        <div class="type_image">
                            <div [ngClass]="viewStyle_normal ? 'img_normal' : 'img_normal-clicked'">
                                <img src="{{img_backward}}" (click)="selectedValue('normal')"/>
                            </div>
                            <div [ngClass]="viewStyle_heavy ? 'img_heavy' : 'img_heavy-clicked'">
                                <img src="{{img_backward}}" (click)="selectedValue('heavy')"/>
                            </div>
                        </div>
                        <div class="content_text">
                            <textarea name="review" placeholder="기타 요구사항/ 하실 말씀을 적어주세요!" [(ngModel)]="request_text" id="" cols="45" rows="5" style="width:100%" class="review"></textarea>
                        </div>
                     </div> -->
        
                    
                  
        </div>
        
      
      
      <div class="footer">
        <button class="confirm" ion-button (click)="confirm()">신청하기</button>
      </div>
   
  </ion-content>